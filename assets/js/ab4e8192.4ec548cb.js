"use strict";(self.webpackChunk_elizaos_docs=self.webpackChunk_elizaos_docs||[]).push([[17075],{6589:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>p,frontMatter:()=>t,metadata:()=>i,toc:()=>r});const i=JSON.parse('{"id":"cli/update","title":"Update Command","description":"Update your project\'s ElizaOS dependencies and CLI to the latest published versions","source":"@site/docs/cli/update.md","sourceDirName":"cli","slug":"/cli/update","permalink":"/docs/cli/update","draft":false,"unlisted":false,"editUrl":"https://github.com/elizaos/eliza/tree/v2-develop/packages/docs/docs/cli/update.md","tags":[],"version":"current","lastUpdatedBy":"yung algorithm","lastUpdatedAt":1747712425000,"sidebarPosition":11,"frontMatter":{"sidebar_position":11,"title":"Update Command","description":"Update your project\'s ElizaOS dependencies and CLI to the latest published versions","keywords":["CLI","update","dependencies","versions","packages","maintenance"],"image":"/img/cli.jpg"},"sidebar":"tutorialSidebar","previous":{"title":"Test","permalink":"/docs/cli/test"},"next":{"title":"Introduction","permalink":"/docs/rest/eliza-os-api"}}');var l=s(31085),a=s(71184);const t={sidebar_position:11,title:"Update Command",description:"Update your project's ElizaOS dependencies and CLI to the latest published versions",keywords:["CLI","update","dependencies","versions","packages","maintenance"],image:"/img/cli.jpg"},d="Update Command",o={},r=[{value:"Usage",id:"usage",level:2},{value:"Options",id:"options",level:2},{value:"Update Process",id:"update-process",level:2},{value:"Project Type Detection",id:"project-type-detection",level:2},{value:"Workspace References",id:"workspace-references",level:2},{value:"Examples",id:"examples",level:2},{value:"Update Everything (CLI and Dependencies)",id:"update-everything-cli-and-dependencies",level:3},{value:"Update Only the CLI",id:"update-only-the-cli",level:3},{value:"Update Only Project Dependencies",id:"update-only-project-dependencies",level:3},{value:"Check for Updates",id:"check-for-updates",level:3},{value:"Skip Building",id:"skip-building",level:3},{value:"Version Management",id:"version-management",level:2},{value:"Best Practices",id:"best-practices",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"CLI Update Issues",id:"cli-update-issues",level:3},{value:"Package Update Issues",id:"package-update-issues",level:3},{value:"Dependency Resolution Problems",id:"dependency-resolution-problems",level:4},{value:"Build Failures",id:"build-failures",level:4},{value:"Version Mismatches",id:"version-mismatches",level:4},{value:"Related Commands",id:"related-commands",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"update-command",children:"Update Command"})}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"update"})," command updates all ElizaOS dependencies (",(0,l.jsx)(n.code,{children:"@elizaos/*"}),") in your project or plugin to the latest published versions available on npm. It can also update your globally installed ElizaOS CLI. This helps you keep your ElizaOS installation current with the latest features, improvements, and bug fixes."]}),"\n",(0,l.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"# Update both CLI and project packages (default)\nelizaos update\n\n# Update only global CLI installation\nelizaos update --cli\n\n# Update only project packages\nelizaos update --packages\n\n# Check for available updates without applying them\nelizaos update --check   # dry-run\n\n# Update packages but skip building the project afterward\nelizaos update --skip-build   # skip rebuild step\n"})}),"\n",(0,l.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-c"}),", ",(0,l.jsx)(n.code,{children:"--check"}),": Check for available updates without applying them. The command will scan all packages, identify which ones need updating, show the current version and the latest available version for each package, but won't actually modify anything."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-sb"}),", ",(0,l.jsx)(n.code,{children:"--skip-build"}),": Skip building the project after updating packages. This is useful for large projects where you want to update dependencies but handle the build process manually or as a separate step."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--cli"}),": Update only the globally installed ElizaOS CLI (without updating packages)."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--packages"}),": Update only project packages (without updating the CLI)."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"update-process",children:"Update Process"}),"\n",(0,l.jsx)(n.p,{children:"When updating project packages, ElizaOS will:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Detect whether you're in a project or plugin directory."}),"\n",(0,l.jsxs)(n.li,{children:["Find the latest published version of ",(0,l.jsx)(n.code,{children:"@elizaos/cli"})," on npm."]}),"\n",(0,l.jsxs)(n.li,{children:["Identify all ",(0,l.jsx)(n.code,{children:"@elizaos/*"})," packages in your ",(0,l.jsx)(n.code,{children:"package.json"})," (dependencies and devDependencies), excluding workspace references."]}),"\n",(0,l.jsx)(n.li,{children:"Compare current package versions with the latest available version and list packages that need updates."}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["If not using ",(0,l.jsx)(n.code,{children:"--check"})," mode: 5. Prompt for confirmation before proceeding if major updates are detected. 6. Update all identified outdated ElizaOS packages to the determined latest version. 7. Automatically rebuild the project or plugin after updating dependencies (unless ",(0,l.jsx)(n.code,{children:"--skip-build"})," is specified)."]}),"\n",(0,l.jsx)(n.p,{children:"When updating the CLI, ElizaOS will:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"Check if the CLI is installed globally. If not, it shows an error message and exits."}),"\n",(0,l.jsx)(n.li,{children:"Determine the currently installed CLI version."}),"\n",(0,l.jsxs)(n.li,{children:["Query npm to find the latest published version of ",(0,l.jsx)(n.code,{children:"@elizaos/cli"}),"."]}),"\n",(0,l.jsx)(n.li,{children:"If the installed version is already the latest, it informs you and exits."}),"\n",(0,l.jsx)(n.li,{children:"If an update is available, it installs the specific latest version globally."}),"\n",(0,l.jsx)(n.li,{children:"Confirm the update status."}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"project-type-detection",children:"Project Type Detection"}),"\n",(0,l.jsx)(n.p,{children:"The update command automatically detects whether you're working with:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Project"}),": A complete ElizaOS project with agents"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Plugin"}),": An ElizaOS plugin that provides extensions"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"It determines this by checking the package.json metadata, particularly:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["If the package name starts with ",(0,l.jsx)(n.code,{children:"@elizaos/plugin-"})]}),"\n",(0,l.jsxs)(n.li,{children:["If keywords include ",(0,l.jsx)(n.code,{children:"elizaos-plugin"})]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"workspace-references",children:"Workspace References"}),"\n",(0,l.jsx)(n.p,{children:"The command properly handles workspace references in monorepo setups:"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["Packages with versions like ",(0,l.jsx)(n.code,{children:"workspace:*"})," are identified as workspace references"]}),"\n",(0,l.jsx)(n.li,{children:"These are skipped during the update process as they're meant to be managed by the monorepo"}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,l.jsx)(n.h3,{id:"update-everything-cli-and-dependencies",children:"Update Everything (CLI and Dependencies)"}),"\n",(0,l.jsx)(n.p,{children:"Update both the CLI and all ElizaOS dependencies in the current directory to the latest published version (default behavior):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"elizaos update\n"})}),"\n",(0,l.jsx)(n.h3,{id:"update-only-the-cli",children:"Update Only the CLI"}),"\n",(0,l.jsx)(n.p,{children:"Update only the globally installed ElizaOS CLI:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"elizaos update --cli\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example CLI update output (versions may vary):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"Checking for ElizaOS CLI updates...\nUpdating ElizaOS CLI from 1.3.5 to 1.4.0...\nUpdating Eliza CLI to version: 1.4.0\nSuccessfully updated Eliza CLI to 1.4.0\nPlease restart your terminal for the changes to take effect.\nElizaOS CLI has been successfully updated!\n"})}),"\n",(0,l.jsx)(n.p,{children:"If you don't have the CLI installed globally, you'll see instructions to install it:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"The CLI update is only available for globally installed CLI.\nTo update a local installation, use your package manager manually.\nFor global installation, run: npm install -g @elizaos/cli@beta\n"})}),"\n",(0,l.jsx)(n.h3,{id:"update-only-project-dependencies",children:"Update Only Project Dependencies"}),"\n",(0,l.jsx)(n.p,{children:"Update only the ElizaOS dependencies in the current directory:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"elizaos update --packages\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example project update output (versions may vary):"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"Updating project dependencies...\nCurrent CLI version: 1.3.5\nLatest available CLI version: 1.4.0\nThe following ElizaOS packages will be updated to version 1.4.0:\n  - @elizaos/core (^1.3.0)\n  - @elizaos/runtime (^1.3.2)\n  - @elizaos/knowledge (workspace:*) -> Skipped (workspace reference)\n  - @elizaos/models (^1.2.0)\n  - @elizaos/plugin-discord (^1.1.0)\nProceed with update? (Y/n) \u203a Y\nUpdating @elizaos/core@1.4.0...\nUpdating @elizaos/runtime@1.4.0...\nUpdating @elizaos/models@1.4.0...\nUpdating @elizaos/plugin-discord@1.4.0...\nDependencies updated successfully.\nInstalling updated dependencies...\n# Package installation details omitted for brevity\nBuilding project...\nBuild completed successfully\nProject successfully updated to the latest ElizaOS packages (1.4.0)\n"})}),"\n",(0,l.jsx)(n.h3,{id:"check-for-updates",children:"Check for Updates"}),"\n",(0,l.jsx)(n.p,{children:"Check for available updates without applying them:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"elizaos update --check   # dry-run\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example output:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"Checking project dependencies...\nCurrent CLI version: 1.3.5\nLatest available CLI version: 1.4.0\n\nElizaOS packages that can be updated to version 1.4.0:\n  - @elizaos/core (1.3.0) \u2192 1.4.0\n  - @elizaos/runtime (1.3.2) \u2192 1.4.0\n  - @elizaos/models (1.2.0) \u2192 1.4.0\n\nTo update these packages, run the command without the --check flag\n"})}),"\n",(0,l.jsx)(n.h3,{id:"skip-building",children:"Skip Building"}),"\n",(0,l.jsx)(n.p,{children:"Update dependencies without rebuilding the project:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"elizaos update --skip-build   # skip rebuild step\n"})}),"\n",(0,l.jsx)(n.p,{children:"Example output with --skip-build:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"Updating project dependencies...\nCurrent CLI version: 1.3.5\nLatest available CLI version: 1.4.0\n# Package update information displayed here\nDependencies updated successfully.\nInstalling updated dependencies...\n# Installation process output\nSkipping build phase as requested with --skip-build flag\nProject successfully updated to the latest ElizaOS packages (1.4.0)\n"})}),"\n",(0,l.jsx)(n.h2,{id:"version-management",children:"Version Management"}),"\n",(0,l.jsxs)(n.p,{children:["The update command currently updates all ",(0,l.jsx)(n.code,{children:"@elizaos/*"})," packages (excluding workspace references) to the single latest published version found for ",(0,l.jsx)(n.code,{children:"@elizaos/cli"}),". It will prompt for confirmation before proceeding with major updates."]}),"\n",(0,l.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,l.jsx)(n.p,{children:"Here are some recommended practices when updating ElizaOS dependencies:"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Back Up Your Project"}),": Always back up your project before updating."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Check First"}),": Use the ",(0,l.jsx)(n.code,{children:"--check"})," flag to see what will be updated before making changes."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Review Changelogs"}),": Check the ElizaOS changelog for any breaking changes between your current version and the latest version."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Test After Updating"}),": Make sure your project works correctly after updating."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Consider Staged Updates"}),": If upgrading across multiple major versions, consider updating one major version at a time."]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,l.jsx)(n.h3,{id:"cli-update-issues",children:"CLI Update Issues"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Not Globally Installed:"}),' If you see a message like "The CLI update is only available for globally installed CLI," you need to install the CLI globally first (',(0,l.jsx)(n.code,{children:"npm install -g @elizaos/cli"}),") or update your local version manually."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Permissions Issues:"})," Global installations might require administrator privileges (e.g., using ",(0,l.jsx)(n.code,{children:"sudo"})," on Linux/macOS)."]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"package-update-issues",children:"Package Update Issues"}),"\n",(0,l.jsx)(n.h4,{id:"dependency-resolution-problems",children:"Dependency Resolution Problems"}),"\n",(0,l.jsx)(n.p,{children:"If you encounter issues with dependency resolution:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"# Run the command with full Node.js error stack traces\nNODE_OPTIONS=--stack-trace-limit=100 elizaos update\n"})}),"\n",(0,l.jsx)(n.h4,{id:"build-failures",children:"Build Failures"}),"\n",(0,l.jsx)(n.p,{children:"If the build fails after updating:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"# Check the build output for errors\n# Manually attempt to rebuild with verbose logging\nelizaos dev --build --verbose\n# or\nelizaos start --build --verbose\n"})}),"\n",(0,l.jsx)(n.h4,{id:"version-mismatches",children:"Version Mismatches"}),"\n",(0,l.jsx)(n.p,{children:"If you need a specific version rather than the latest published version:"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-console",children:"# Manually install the specific version needed\nbun install @elizaos/core@1.3.5\n"})}),"\n",(0,l.jsx)(n.h2,{id:"related-commands",children:"Related Commands"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["To build your project, use the ",(0,l.jsx)(n.code,{children:"--build"})," flag with the ",(0,l.jsx)(n.code,{children:"elizaos dev"})," or ",(0,l.jsx)(n.code,{children:"elizaos start"})," commands."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/cli/start",children:(0,l.jsx)(n.code,{children:"start"})}),": Start your project with updated dependencies."]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/docs/cli/dev",children:(0,l.jsx)(n.code,{children:"dev"})}),": Run your project in development mode."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(c,{...e})}):c(e)}},71184:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>d});var i=s(14041);const l={},a=i.createContext(l);function t(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);